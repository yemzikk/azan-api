<!DOCTYPE html>
<html lang="en" prefix="og: https://ogp.me/ns#">
  <head>
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-D3XTX2S974"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-D3XTX2S974", {
        // Enhanced measurement settings
        send_page_view: true,
        page_title: document.title,
        page_location: window.location.href,
        // Custom parameters
        custom_map: {
          custom_parameter_1: "user_engagement_level",
          custom_parameter_2: "api_interaction_type",
        },
      });

      // Analytics Event Helper
      window.trackEvent = function (
        eventName,
        eventCategory,
        eventLabel,
        value,
        customParams = {}
      ) {
        try {
          const eventData = {
            event_category: eventCategory || "User Interaction",
            event_label: eventLabel || "",
            value: value || 1,
            ...customParams,
          };

          gtag("event", eventName, eventData);
          console.log("📊 Analytics Event:", eventName, eventData);
        } catch (error) {
          console.warn("Analytics tracking error:", error);
        }
      };

      // Page Performance Tracking
      window.addEventListener("load", function () {
        // Track page load time
        const loadTime =
          performance.timing.loadEventEnd - performance.timing.navigationStart;
        trackEvent("page_load_time", "Performance", "Load Complete", loadTime, {
          load_time_ms: loadTime,
          page_type: "api_documentation",
        });

        // Track time to first contentful paint
        if ("getEntriesByType" in performance) {
          const paintEntries = performance.getEntriesByType("paint");
          const fcp = paintEntries.find(
            (entry) => entry.name === "first-contentful-paint"
          );
          if (fcp) {
            trackEvent(
              "first_contentful_paint",
              "Performance",
              "FCP",
              Math.round(fcp.startTime)
            );
          }
        }
      });
    </script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="theme-color"
      content="#0d4a38"
      media="(prefers-color-scheme: light)"
    />
    <meta
      name="theme-color"
      content="#0f1419"
      media="(prefers-color-scheme: dark)"
    />
    <title>
      Prayer Times API - Free Islamic Prayer Times REST API | api.azantimes.in
    </title>

    <!-- SEO Meta Tags -->
    <meta
      name="description"
      content="Free Islamic Prayer Times REST API for Kerala, India. Get accurate daily, monthly, and yearly prayer times (Fajr, Dhuhr, Asr, Maghrib, Isha) via JSON API. No authentication required."
    />
    <meta
      name="keywords"
      content="prayer times API, Islamic prayer times, salah times, REST API, Kerala prayer times, mosque times, fajr, dhuhr, asr, maghrib, isha, JSON API, free API, Islamic calendar, azan times, namaz times, islamic schedule"
    />
    <meta name="author" content="api.azantimes.in" />
    <meta name="generator" content="Prayer Times API Documentation" />
    <meta name="language" content="English" />
    <meta name="revisit-after" content="7 days" />
    <meta name="rating" content="General" />
    <meta
      name="robots"
      content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"
    />
    <meta name="googlebot" content="index, follow" />
    <meta name="bingbot" content="index, follow" />
    <link rel="canonical" href="https://api.azantimes.in/" />

    <!-- DNS Prefetch for performance -->
    <link rel="dns-prefetch" href="//fonts.googleapis.com" />
    <link rel="dns-prefetch" href="//cdnjs.cloudflare.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://api.azantimes.in/" />
    <meta
      property="og:title"
      content="Prayer Times API - Free Islamic Prayer Times REST API"
    />
    <meta
      property="og:description"
      content="Free Islamic Prayer Times REST API for Kerala, India. Get accurate daily, monthly, and yearly prayer times via JSON API. No authentication required."
    />
    <meta property="og:image" content="https://api.azantimes.in/dashboard.png" />
    <meta
      property="og:image:alt"
      content="Prayer Times API - Islamic prayer schedule interface"
    />
    <meta property="og:site_name" content="api.azantimes.in" />
    <meta property="og:locale" content="en_US" />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="https://api.azantimes.in/" />
    <meta
      name="twitter:title"
      content="Prayer Times API - Free Islamic Prayer Times REST API"
    />
    <meta
      name="twitter:description"
      content="Free Islamic Prayer Times REST API for Kerala, India. Get accurate daily, monthly, and yearly prayer times via JSON API. No authentication required."
    />
    <meta name="twitter:image" content="https://api.azantimes.in/dashboard.png" />
    <meta
      name="twitter:image:alt"
      content="Prayer Times API - Islamic prayer schedule interface"
    />
    <meta name="twitter:creator" content="@azanapp" />
    <meta name="twitter:site" content="@azanapp" />

    <!-- Additional SEO -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-title" content="Prayer Times API" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="application-name" content="Prayer Times API" />

    <!-- Sitemap and RSS -->
    <link rel="sitemap" type="application/xml" href="/sitemap.xml" />
    <link
      rel="alternate"
      type="application/rss+xml"
      title="Prayer Times API Updates"
      href="/rss.xml"
    />

    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="/favicon/apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="/favicon/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="/favicon/favicon-16x16.png"
    />
    <link rel="manifest" href="/favicon/site.webmanifest" />

    <!-- Structured Data (JSON-LD) -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebAPI",
        "name": "Prayer Times API",
        "url": "https://api.azantimes.in/",
        "description": "Free Islamic Prayer Times REST API for Kerala, India. Get accurate daily, monthly, and yearly prayer times via JSON API.",
        "provider": {
          "@type": "Organization",
          "name": "api.azantimes.in",
          "url": "https://api.azantimes.in/"
        },
        "documentation": "https://api.azantimes.in/",
        "termsOfService": "https://api.azantimes.in/terms",
        "version": "1.0",
        "programmingLanguage": "JSON",
        "applicationCategory": "DeveloperApplication",
        "operatingSystem": "Any",
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "USD",
          "availability": "https://schema.org/InStock"
        },
        "potentialAction": {
          "@type": "ConsumeAction",
          "target": {
            "@type": "EntryPoint",
            "urlTemplate": "https://api.azantimes.in/v1/timesheets/{location}/{period}.json",
            "description": "Get prayer times for a specific location and time period"
          }
        }
      }
    </script>

    <!-- Additional Structured Data for Islamic Content -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "api.azantimes.in",
        "url": "https://api.azantimes.in/",
        "description": "Islamic Prayer Times API and Dashboard",
        "potentialAction": {
          "@type": "SearchAction",
          "target": {
            "@type": "EntryPoint",
            "urlTemplate": "https://azantimes.in/"
          }
        },
        "sameAs": ["https://github.com/yemzikk/azan-api"]
      }
    </script>

    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="css/styles.css" />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />

    <style>
      :root {
        --primary-green: #0d4a38;
        --secondary-green: #155c49;
        --accent-green: #1f7052;
        --gold: #e8b20e;
        --gold-light: #d4af37;

        /* Light theme variables - WCAG 2.2 AA compliant */
        --bg-primary: #ffffff;
        --bg-secondary: #f7fafc;
        --bg-tertiary: #edf2f7;
        --text-primary: #1a202c;
        --text-secondary: #4a5568;
        --text-muted: #718096;
        --border-color: #e2e8f0;
        --shadow-light: rgba(13, 74, 56, 0.08);
        --shadow-medium: rgba(13, 74, 56, 0.12);
        --shadow-heavy: rgba(13, 74, 56, 0.16);
        --glass-bg: rgba(255, 255, 255, 0.85);
        --glass-border: rgba(184, 148, 31, 0.15);
        --code-bg: #f7fafc;
        --code-text: #2d3748;
        --success-color: #0d7737;
        --warning-color: #b7791f;
        --error-color: #c53030;
        --info-color: #3182ce;
      }

      [data-theme="dark"] {
        --primary-green: #0d7353;
        --secondary-green: #10b981;
        --accent-green: #059669;
        --bg-primary: #0f1419;
        --bg-secondary: #1a202c;
        --bg-tertiary: #2d3748;
        --text-primary: #f7fafc;
        --text-secondary: #e2e8f0;
        --text-muted: #a0aec0;
        --border-color: #4a5568;
        --shadow-light: rgba(0, 0, 0, 0.25);
        --shadow-medium: rgba(0, 0, 0, 0.35);
        --shadow-heavy: rgba(0, 0, 0, 0.45);
        --glass-bg: rgba(26, 32, 44, 0.85);
        --glass-border: rgba(212, 175, 55, 0.25);
        --code-bg: #1a202c;
        --code-text: #e2e8f0;
        --success-color: #48bb78;
        --warning-color: #ed8936;
        --error-color: #f56565;
        --info-color: #63b3ed;
      }

      /* Auto theme based on system preference */
      @media (prefers-color-scheme: dark) {
        :root:not([data-theme="light"]) {
          --primary-green: #0d7353;
          --secondary-green: #10b981;
          --accent-green: #059669;
          --bg-primary: #0f1419;
          --bg-secondary: #1a202c;
          --bg-tertiary: #2d3748;
          --text-primary: #f7fafc;
          --text-secondary: #e2e8f0;
          --text-muted: #a0aec0;
          --border-color: #4a5568;
          --shadow-light: rgba(0, 0, 0, 0.25);
          --shadow-medium: rgba(0, 0, 0, 0.35);
          --shadow-heavy: rgba(0, 0, 0, 0.45);
          --glass-bg: rgba(26, 32, 44, 0.85);
          --glass-border: rgba(212, 175, 55, 0.25);
          --code-bg: #1a202c;
          --code-text: #e2e8f0;
          --success-color: #48bb78;
          --warning-color: #ed8936;
          --error-color: #f56565;
          --info-color: #63b3ed;
        }
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI",
          Roboto, sans-serif;
        line-height: 1.6;
        color: var(--text-primary);
        background: var(--bg-primary);
        transition: background-color 0.3s ease, color 0.3s ease;
      }

      /* Container and layout */
      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 1rem;
      }

      @media (min-width: 768px) {
        .container {
          padding: 0 2rem;
        }
      }

      /* Header */
      .header {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 50;
        background: var(--glass-bg);
        backdrop-filter: blur(20px);
        border-bottom: 1px solid var(--border-color);
        transition: all 0.3s ease;
      }

      .header-content {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 1rem 0;
        gap: 1rem;
        min-width: 0;
      }

      @media (min-width: 768px) {
        .header-content {
          gap: 3rem;
        }
      }

      @media (max-width: 480px) {
        .header-content {
          padding: 0.75rem 0;
          gap: 0.75rem;
        }
      }

      .logo {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        text-decoration: none;
        color: var(--text-primary);
        min-width: 0;
        flex-shrink: 0;
      }

      .logo-icon {
        width: 2.5rem;
        height: 2.5rem;
        background: linear-gradient(135deg, var(--gold), var(--primary-green));
        border-radius: 0.75rem;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 1.125rem;
        flex-shrink: 0;
      }

      .logo-text {
        font-size: 1.5rem;
        font-weight: 700;
        color: var(--primary-green);
        white-space: nowrap;
        line-height: 1;
      }

      @media (max-width: 480px) {
        .logo {
          gap: 0.5rem;
        }

        .logo-icon {
          width: 2rem;
          height: 2rem;
          font-size: 1rem;
        }

        .logo-text {
          font-size: 1.25rem;
        }
      }

      @media (max-width: 360px) {
        .logo-text {
          font-size: 1.1rem;
        }
      }

      /* Navigation */
      .nav {
        display: none;
        gap: 1.5rem;
      }

      @media (min-width: 768px) {
        .nav {
          display: flex;
          gap: 2rem;
        }
      }

      @media (min-width: 1024px) {
        .nav {
          gap: 2.5rem;
        }
      }

      .nav-link {
        color: var(--text-secondary);
        text-decoration: none;
        font-weight: 500;
        padding: 0.5rem 1rem;
        border-radius: 0.5rem;
        transition: all 0.3s ease;
        position: relative;
      }

      .nav-link:hover {
        color: var(--primary-green);
        background: var(--bg-tertiary);
      }

      .nav-cta {
        background: var(--gold);
        color: var(--primary-green);
        font-weight: 600;
        padding: 0.5rem 1.5rem;
        border-radius: 9999px;
        margin-right: 0.5rem;
      }

      @media (min-width: 768px) {
        .nav-cta {
          margin-right: 1rem;
        }
      }

      .nav-cta:hover {
        background: var(--gold-light);
        transform: translateY(-1px);
      }

      /* Header Actions */
      .header-actions {
        display: flex;
        align-items: center;
        gap: 1rem;
        position: relative;
      }

      .header-actions::before {
        content: "";
        width: 1px;
        height: 1.5rem;
        background: var(--border-color);
        margin-right: 0.5rem;
        opacity: 0.5;
        display: none;
      }

      @media (min-width: 768px) {
        .header-actions {
          gap: 1.5rem;
        }

        .header-actions::before {
          display: block;
          margin-right: 1rem;
        }
      }

      @media (max-width: 767px) {
        .header-actions {
          gap: 0.75rem;
        }

        .mobile-menu-btn {
          width: 2.5rem;
          height: 2.5rem;
          font-size: 0.9rem;
        }
      }

      /* Floating Theme Toggle */
      .floating-theme-toggle {
        position: fixed;
        bottom: 2rem;
        right: 2rem;
        width: 3.5rem;
        height: 3.5rem;
        background: var(--primary-green);
        color: white;
        border: none;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        font-size: 1.25rem;
        z-index: 1000;
        box-shadow: 0 4px 20px var(--shadow-heavy);
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        backdrop-filter: blur(10px);
        border: 2px solid rgba(255, 255, 255, 0.1);
      }

      .floating-theme-toggle:hover {
        transform: translateY(-2px) scale(1.05);
        box-shadow: 0 8px 30px var(--shadow-heavy);
        background: var(--secondary-green);
      }

      .floating-theme-toggle:active {
        transform: translateY(0) scale(0.95);
      }

      .floating-theme-toggle i {
        transition: transform 0.3s ease;
      }

      .floating-theme-toggle:hover i {
        transform: rotate(15deg);
      }

      .floating-theme-toggle:focus {
        outline: none;
        box-shadow: 0 0 0 3px var(--primary-green),
          0 8px 30px var(--shadow-heavy);
        transform: scale(1.05);
      }

      .floating-theme-toggle:focus:not(:focus-visible) {
        box-shadow: 0 4px 20px var(--shadow-heavy);
        transform: none;
      }

      .floating-theme-toggle:focus-visible {
        outline: 2px solid var(--primary-green);
        outline-offset: 2px;
      }

      @media (max-width: 768px) {
        .floating-theme-toggle {
          bottom: 1.5rem;
          right: 1.5rem;
          width: 3rem;
          height: 3rem;
          font-size: 1.1rem;
        }
      }

      /* Hide original theme toggle in header */
      .theme-toggle {
        display: none;
      }

      /* Mobile menu */
      .mobile-menu-btn {
        display: block;
        background: var(--bg-tertiary);
        border: 1px solid var(--border-color);
        color: var(--text-primary);
        width: 2.75rem;
        height: 2.75rem;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        border-radius: 0.75rem;
        transition: all 0.3s ease;
        font-size: 1rem;
      }

      @media (min-width: 768px) {
        .mobile-menu-btn {
          display: none;
        }
      }

      .mobile-menu-btn:hover {
        background: var(--bg-primary);
        transform: translateY(-1px);
        box-shadow: 0 4px 12px var(--shadow-light);
      }

      .mobile-menu {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: var(--glass-bg);
        backdrop-filter: blur(20px);
        z-index: 60;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        gap: 2rem;
        transform: translateX(-100%);
        transition: transform 0.3s ease;
      }

      .mobile-menu.active {
        transform: translateX(0);
      }

      .mobile-nav-link {
        color: var(--text-primary);
        text-decoration: none;
        font-size: 1.25rem;
        font-weight: 600;
        padding: 1rem 2rem;
        border-radius: 0.75rem;
        transition: all 0.3s ease;
      }

      .mobile-nav-link:hover {
        background: var(--primary-green);
        color: white;
      }

      .close-menu {
        position: absolute;
        top: 2rem;
        right: 2rem;
        background: none;
        border: none;
        color: var(--text-secondary);
        font-size: 1.5rem;
        cursor: pointer;
        padding: 0.5rem;
        border-radius: 0.5rem;
        transition: all 0.3s ease;
      }

      .close-menu:hover {
        color: var(--text-primary);
        background: var(--bg-tertiary);
      }

      /* Main content */
      .main {
        padding-top: 5rem;
      }

      /* Hero section */
      .hero {
        background: linear-gradient(
          135deg,
          var(--primary-green) 0%,
          var(--secondary-green) 50%,
          var(--accent-green) 100%
        );
        color: white;
        padding: 4rem 0 6rem;
        position: relative;
        overflow: hidden;
      }

      .hero::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: radial-gradient(
            circle at 20% 20%,
            rgba(212, 175, 55, 0.1) 0%,
            transparent 50%
          ),
          radial-gradient(
            circle at 80% 80%,
            rgba(212, 175, 55, 0.1) 0%,
            transparent 50%
          );
        pointer-events: none;
      }

      .hero-content {
        position: relative;
        text-align: center;
        max-width: 4xl;
        margin: 0 auto;
      }

      .hero-icon {
        width: 5rem;
        height: 5rem;
        background: rgba(255, 255, 255, 0.2);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 2rem;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(212, 175, 55, 0.3);
        animation: float 6s ease-in-out infinite;
      }

      @keyframes float {
        0%,
        100% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-10px);
        }
      }

      .hero-title {
        font-size: clamp(2.5rem, 5vw, 4rem);
        font-weight: 800;
        margin-bottom: 1.5rem;
        background: linear-gradient(135deg, white, var(--gold-light));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .hero-description {
        font-size: clamp(1.125rem, 2vw, 1.5rem);
        margin-bottom: 3rem;
        color: rgba(255, 255, 255, 0.9);
        max-width: 42rem;
        margin-left: auto;
        margin-right: auto;
      }

      .hero-actions {
        display: flex;
        flex-direction: column;
        gap: 1rem;
        align-items: center;
      }

      @media (min-width: 640px) {
        .hero-actions {
          flex-direction: row;
          justify-content: center;
        }
      }

      .btn {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0.875rem 2rem;
        border-radius: 9999px;
        font-weight: 600;
        text-decoration: none;
        transition: all 0.3s ease;
        border: none;
        cursor: pointer;
        font-size: 1rem;
      }

      .btn-primary {
        background: var(--gold);
        color: var(--primary-green);
        box-shadow: 0 4px 20px rgba(212, 175, 55, 0.3);
      }

      .btn-primary:hover {
        background: var(--gold-light);
        transform: translateY(-2px);
        box-shadow: 0 6px 25px rgba(212, 175, 55, 0.4);
      }

      .btn-secondary {
        background: transparent;
        color: white;
        border: 2px solid rgba(255, 255, 255, 0.8);
      }

      .btn-secondary:hover {
        background: white;
        color: var(--primary-green);
        border-color: white;
      }

      /* Sections */
      .section {
        padding: 4rem 0;
        scroll-margin-top: 6rem;
      }

      .section-header {
        text-align: center;
        margin-bottom: 3rem;
      }

      .section-title {
        font-size: clamp(2rem, 4vw, 2.5rem);
        font-weight: 700;
        color: var(--primary-green);
        margin-bottom: 1rem;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.75rem;
      }

      .section-description {
        font-size: 1.125rem;
        color: var(--text-secondary);
        max-width: 42rem;
        margin: 0 auto;
      }

      /* Cards */
      .card {
        background: var(--glass-bg);
        backdrop-filter: blur(20px);
        border: 1px solid var(--glass-border);
        border-radius: 1.5rem;
        padding: 2rem;
        transition: all 0.4s ease;
        box-shadow: 0 4px 20px var(--shadow-light);
      }

      .card:hover {
        transform: translateY(-4px);
        box-shadow: 0 8px 40px var(--shadow-medium);
        border-color: var(--gold);
      }

      .grid {
        display: grid;
        gap: 2rem;
      }

      .grid-2 {
        grid-template-columns: 1fr;
      }

      @media (min-width: 768px) {
        .grid-2 {
          grid-template-columns: repeat(2, 1fr);
        }
      }

      .grid-3 {
        grid-template-columns: 1fr;
      }

      @media (min-width: 768px) {
        .grid-3 {
          grid-template-columns: repeat(2, 1fr);
        }
      }

      @media (min-width: 1024px) {
        .grid-3 {
          grid-template-columns: repeat(3, 1fr);
        }
      }

      /* Features list */
      .feature-list {
        list-style: none;
        padding: 0;
        margin: 0;
      }

      .feature-item {
        display: flex;
        align-items: flex-start;
        gap: 0.75rem;
        padding: 0.5rem 0;
      }

      .feature-icon {
        color: var(--primary-green);
        margin-top: 0.125rem;
      }

      /* Code blocks */
      .code-block {
        background: var(--code-bg);
        color: var(--code-text);
        padding: 1.5rem;
        border-radius: 0.75rem;
        font-family: "Monaco", "Menlo", "Ubuntu Mono", monospace;
        font-size: 0.875rem;
        overflow-x: auto;
        border: 1px solid var(--border-color);
        position: relative;
        line-height: 1.5;
      }

      .code-block::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 3px;
        background: linear-gradient(90deg, var(--gold), var(--primary-green));
        border-radius: 0.75rem 0.75rem 0 0;
      }

      /* Method badges */
      .method-badge {
        display: inline-flex;
        align-items: center;
        padding: 0.25rem 0.75rem;
        border-radius: 9999px;
        font-size: 0.75rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.05em;
      }

      .method-get {
        background: var(--gold);
        color: var(--primary-green);
      }

      /* API Playground */
      .playground {
        background: linear-gradient(
          135deg,
          rgba(212, 175, 55, 0.05) 0%,
          rgba(15, 76, 58, 0.05) 50%,
          rgba(45, 134, 89, 0.05) 100%
        );
        border: 1px solid var(--gold);
        border-radius: 1.5rem;
        padding: 0.25rem;
      }

      .playground-inner {
        background: var(--bg-primary);
        border-radius: 1.25rem;
        padding: 2rem;
      }

      .form-group {
        margin-bottom: 1.5rem;
      }

      .form-label {
        display: block;
        font-weight: 600;
        color: var(--text-primary);
        margin-bottom: 0.5rem;
        font-size: 0.875rem;
      }

      .form-control {
        width: 100%;
        padding: 0.875rem 1rem;
        border: 2px solid var(--border-color);
        border-radius: 0.75rem;
        background: var(--bg-primary);
        color: var(--text-primary);
        font-size: 1rem;
        transition: all 0.3s ease;
      }

      .form-control:focus {
        outline: none;
        border-color: var(--primary-green);
        box-shadow: 0 0 0 3px rgba(15, 76, 58, 0.1);
      }

      /* Response display */
      .response-display {
        background: var(--code-bg);
        color: var(--code-text);
        border-radius: 0.75rem;
        padding: 1.5rem;
        min-height: 20rem;
        overflow: auto;
        font-family: "Monaco", "Menlo", "Ubuntu Mono", monospace;
        font-size: 0.875rem;
        line-height: 1.5;
        border: 1px solid var(--border-color);
      }

      /* Footer */
      .footer {
        background: var(--bg-secondary);
        padding: 3rem 0;
        border-top: 1px solid var(--border-color);
      }

      /* Animations */
      .fade-in {
        opacity: 0;
        transform: translateY(20px);
        transition: all 0.6s ease;
      }

      .fade-in.visible {
        opacity: 1;
        transform: translateY(0);
      }

      /* Responsive utilities */
      .hidden {
        display: none;
      }

      .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
      }

      /* Loading spinner */
      .spinner {
        display: inline-block;
        width: 2rem;
        height: 2rem;
        border: 2px solid var(--border-color);
        border-radius: 50%;
        border-top-color: var(--primary-green);
        animation: spin 1s ease-in-out infinite;
      }

      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }

      /* Smooth scrolling */
      html {
        scroll-behavior: smooth;
      }

      /* Focus styles for accessibility */
      *:focus-visible {
        outline: 2px solid var(--gold);
        outline-offset: 2px;
      }

      /* High contrast mode support */
      @media (prefers-contrast: high) {
        .card {
          border-width: 2px;
        }

        .btn {
          border-width: 2px;
        }
      }

      /* Reduced motion support */
      @media (prefers-reduced-motion: reduce) {
        *,
        *::before,
        *::after {
          animation-duration: 0.01ms !important;
          animation-iteration-count: 1 !important;
          transition-duration: 0.01ms !important;
        }
      }

      /* Print styles */
      @media print {
        .header,
        .mobile-menu,
        .header-actions,
        .hero-actions,
        .playground {
          display: none;
        }

        body {
          background: white;
          color: black;
        }

        .card {
          border: 1px solid #ccc;
          background: white;
        }
      }
    </style>
    <script>
      const baseCurrentLocation =
        window.location.origin + window.location.pathname;

      // Theme management
      const initTheme = () => {
        const savedTheme = localStorage.getItem("theme");
        const prefersDark = window.matchMedia(
          "(prefers-color-scheme: dark)"
        ).matches;

        if (savedTheme) {
          document.documentElement.setAttribute("data-theme", savedTheme);
        } else if (prefersDark) {
          document.documentElement.setAttribute("data-theme", "dark");
        } else {
          document.documentElement.setAttribute("data-theme", "light");
        }
      };

      // Initialize theme before page load
      initTheme();
    </script>
  </head>
  <body>
    <!-- Header -->
    <header class="header">
      <div class="container">
        <div class="header-content">
          <a href="/" class="logo">
            <div class="logo-icon">
              <i class="fas fa-mosque" aria-hidden="true"></i>
            </div>
            <span class="logo-text">Prayer Times API</span>
          </a>

          <nav class="nav">
            <a href="#overview" class="nav-link">Overview</a>
            <a href="#authentication" class="nav-link">Authentication</a>
            <a href="#endpoints" class="nav-link">Endpoints</a>
            <a href="#examples" class="nav-link">Examples</a>
            <a href="#playground" class="nav-link">Playground</a>
            <a href="https://azantimes.in/" class="nav-link nav-cta">Dashboard</a>
          </nav>

          <div class="header-actions">
            <button
              class="mobile-menu-btn"
              id="mobile-menu-btn"
              aria-label="Open menu"
            >
              <i class="fas fa-bars"></i>
            </button>
          </div>
        </div>
      </div>
    </header>

    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobile-menu">
      <button class="close-menu" id="close-menu" aria-label="Close menu">
        <i class="fas fa-times"></i>
      </button>
      <nav>
        <a href="#overview" class="mobile-nav-link">Overview</a>
        <a href="#authentication" class="mobile-nav-link">Authentication</a>
        <a href="#endpoints" class="mobile-nav-link">Endpoints</a>
        <a href="#examples" class="mobile-nav-link">Examples</a>
        <a href="#playground" class="mobile-nav-link">Playground</a>
        <a href="https://azantimes.in/" class="mobile-nav-link">Dashboard</a>
      </nav>
    </div>

    <!-- Main Content -->
    <main class="main">
      <!-- Hero Section -->
      <section class="hero">
        <div class="container">
          <div class="hero-content">
            <div class="hero-icon">
              <i class="fas fa-mosque" aria-hidden="true"></i>
            </div>
            <h1 class="hero-title">Prayer Times API</h1>
            <p class="hero-description">
              A comprehensive REST API for accessing accurate Islamic prayer
              times data for locations in Kerala, India. Free, fast, and
              reliable.
            </p>
            <div class="hero-actions">
              <a href="#playground" class="btn btn-primary">
                <i class="fas fa-play" aria-hidden="true"></i>
                Try It Now
              </a>
              <a href="#endpoints" class="btn btn-secondary">
                <i class="fas fa-book" aria-hidden="true"></i>
                View Documentation
              </a>
            </div>
          </div>
        </div>
      </section>

      <!-- Overview Section -->
      <section id="overview" class="section">
        <div class="container">
          <div class="section-header">
            <h2 class="section-title">
              <i class="fas fa-book-open" aria-hidden="true"></i>
              API Overview
            </h2>
            <p class="section-description">
              Everything you need to know to get started with our Prayer Times
              API
            </p>
          </div>

          <div class="grid grid-2">
            <div class="card">
              <h3
                class="section-title"
                style="font-size: 1.5rem; margin-bottom: 1.5rem"
              >
                <i class="fas fa-star" aria-hidden="true"></i>
                Features
              </h3>
              <ul class="feature-list">
                <li class="feature-item">
                  <i
                    class="fas fa-check-circle feature-icon"
                    aria-hidden="true"
                  ></i>
                  <span>Accurate prayer times for locations in Kerala</span>
                </li>
                <li class="feature-item">
                  <i
                    class="fas fa-check-circle feature-icon"
                    aria-hidden="true"
                  ></i>
                  <span>Daily, monthly, and yearly data formats</span>
                </li>
                <li class="feature-item">
                  <i
                    class="fas fa-check-circle feature-icon"
                    aria-hidden="true"
                  ></i>
                  <span>RESTful JSON API with consistent responses</span>
                </li>
                <li class="feature-item">
                  <i
                    class="fas fa-check-circle feature-icon"
                    aria-hidden="true"
                  ></i>
                  <span>No authentication required</span>
                </li>
                <li class="feature-item">
                  <i
                    class="fas fa-check-circle feature-icon"
                    aria-hidden="true"
                  ></i>
                  <span>Fast and reliable service</span>
                </li>
                <li class="feature-item">
                  <i
                    class="fas fa-check-circle feature-icon"
                    aria-hidden="true"
                  ></i>
                  <span>CORS enabled for web applications</span>
                </li>
              </ul>
            </div>

            <div class="card">
              <h3
                class="section-title"
                style="font-size: 1.5rem; margin-bottom: 1.5rem"
              >
                <i class="fas fa-rocket" aria-hidden="true"></i>
                Quick Start
              </h3>
              <div class="code-block">
                <div style="color: var(--primary-green); margin-bottom: 0.5rem">
                  # Get today's prayer times for Kuttiady Assembly Constituency
                </div>
                <div style="color: #3b82f6">curl -X GET \</div>
                <div style="margin-left: 1rem">
                  <script>
                    document.write(baseCurrentLocation.replace(/\/+$/, ""));
                  </script>
                  /v1/timesheets/Kuttiady_Assembly_Constituency/today.json
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Base URL Section -->
      <section class="section" style="padding: 2rem 0">
        <div class="container">
          <div class="card">
            <h2 class="section-title" style="margin-bottom: 1.5rem">
              <i class="fas fa-link" aria-hidden="true"></i>
              Base URL
            </h2>
            <div class="code-block">
              <div
                style="
                  color: var(--gold);
                  font-size: 1.125rem;
                  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
                "
              >
                <script>
                  document.write(baseCurrentLocation.replace(/\/+$/, ""));
                </script>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Authentication Section -->
      <section id="authentication" class="section">
        <div class="container">
          <div class="card">
            <div class="section-header">
              <h2 class="section-title">
                <i class="fas fa-lock-open" aria-hidden="true"></i>
                Authentication
              </h2>
            </div>
            <div
              style="
                background: linear-gradient(
                  135deg,
                  rgba(212, 175, 55, 0.1),
                  rgba(15, 76, 58, 0.1)
                );
                padding: 2rem;
                border-radius: 1rem;
                border: 2px solid var(--gold);
              "
            >
              <div
                style="
                  display: flex;
                  align-items: center;
                  gap: 0.75rem;
                  margin-bottom: 1rem;
                "
              >
                <i
                  class="fas fa-check-circle"
                  style="color: var(--primary-green); font-size: 1.5rem"
                ></i>
                <h3
                  style="
                    font-size: 1.25rem;
                    font-weight: 600;
                    color: var(--text-primary);
                    margin: 0;
                  "
                >
                  No Authentication Required
                </h3>
              </div>
              <p
                style="
                  color: var(--text-secondary);
                  margin: 0;
                  font-size: 1.125rem;
                "
              >
                This API is completely open and does not require any API keys,
                tokens, or authentication headers. Simply make requests to the
                endpoints directly and start integrating immediately.
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- Endpoints Section -->
      <section id="endpoints" class="section">
        <div class="container">
          <div class="section-header">
            <h2 class="section-title">
              <i class="fas fa-code" aria-hidden="true"></i>
              API Endpoints
            </h2>
            <p class="section-description">
              Explore all available endpoints and their usage
            </p>
          </div>

          <div class="grid gap-6">
            <!-- Get Locations -->
            <div class="card">
              <div
                style="
                  display: flex;
                  justify-content: space-between;
                  align-items: center;
                  margin-bottom: 1.5rem;
                  flex-wrap: wrap;
                  gap: 1rem;
                "
              >
                <h3
                  style="
                    font-size: 1.25rem;
                    font-weight: 600;
                    color: var(--text-primary);
                    margin: 0;
                  "
                >
                  <i class="fas fa-list" aria-hidden="true"></i>
                  Get Available Locations
                </h3>
                <span class="method-badge method-get">GET</span>
              </div>
              <div class="code-block" style="margin-bottom: 1rem">
                <div style="color: #3b82f6">GET</div>
                <div
                  style="
                    color: var(--text-primary);
                    font-size: 1.125rem;
                    margin-top: 0.25rem;
                  "
                >
                  /v1/timesheets/index.json
                </div>
              </div>
              <p style="color: var(--text-secondary); margin-bottom: 1.5rem">
                Returns an array of all available location identifiers that you
                can use for fetching prayer times.
              </p>
              <details
                style="
                  background: var(--bg-secondary);
                  border-radius: 0.75rem;
                  padding: 1rem;
                  border: 1px solid var(--border-color);
                "
              >
                <summary
                  style="
                    cursor: pointer;
                    font-weight: 600;
                    color: var(--primary-green);
                  "
                >
                  <i class="fas fa-eye" aria-hidden="true"></i>
                  Response Example
                </summary>
                <div class="code-block" style="margin-top: 1rem">
                  [ "Kozhikode_North_Assembly_Constituency",
                  "Chandrika_Calicut_2011", "Arookutty_Vaduthala",
                  "Kalpetta_Assembly_Constituency" ]
                </div>
              </details>
            </div>

            <!-- Today's Prayer Times -->
            <div class="card">
              <div
                style="
                  display: flex;
                  justify-content: space-between;
                  align-items: center;
                  margin-bottom: 1.5rem;
                  flex-wrap: wrap;
                  gap: 1rem;
                "
              >
                <h3
                  style="
                    font-size: 1.25rem;
                    font-weight: 600;
                    color: var(--text-primary);
                    margin: 0;
                  "
                >
                  <i class="fas fa-calendar-day" aria-hidden="true"></i>
                  Get Today's Prayer Times
                </h3>
                <span class="method-badge method-get">GET</span>
              </div>
              <div class="code-block" style="margin-bottom: 1rem">
                <div style="color: #3b82f6">GET</div>
                <div
                  style="
                    color: var(--text-primary);
                    font-size: 1.125rem;
                    margin-top: 0.25rem;
                  "
                >
                  /v1/timesheets/<span
                    style="color: var(--gold); font-weight: 600"
                    >{location}</span
                  >/today.json
                </div>
              </div>
              <div
                style="
                  background: linear-gradient(
                    135deg,
                    rgba(15, 76, 58, 0.1),
                    rgba(212, 175, 55, 0.1)
                  );
                  padding: 1rem;
                  border-radius: 0.75rem;
                  margin-bottom: 1.5rem;
                  border: 1px solid var(--primary-green);
                "
              >
                <h4
                  style="
                    font-weight: 600;
                    color: var(--primary-green);
                    margin: 0 0 0.5rem 0;
                  "
                >
                  <i class="fas fa-cog" aria-hidden="true"></i>
                  Parameters
                </h4>
                <div style="color: var(--text-secondary)">
                  <code
                    style="
                      background: var(--bg-primary);
                      padding: 0.25rem 0.5rem;
                      border-radius: 0.25rem;
                      border: 1px solid var(--border-color);
                    "
                  >
                    {location}
                  </code>
                  - Location identifier with underscores instead of spaces
                </div>
              </div>
              <details
                style="
                  background: var(--bg-secondary);
                  border-radius: 0.75rem;
                  padding: 1rem;
                  border: 1px solid var(--border-color);
                "
              >
                <summary
                  style="
                    cursor: pointer;
                    font-weight: 600;
                    color: var(--primary-green);
                  "
                >
                  <i class="fas fa-eye" aria-hidden="true"></i>
                  Response Example
                </summary>
                <div class="code-block" style="margin-top: 1rem">
                  { "date": "29-08-2025", "subh": "4:57 AM", "duhr": "12:31 PM",
                  "asar": "3:38 PM", "maghrib": "6:43 PM", "isha": "7:53 PM",
                  "sunrise": "6:17 AM" }
                </div>
              </details>
            </div>

            <!-- Month's Prayer Times -->
            <div class="card">
              <div
                style="
                  display: flex;
                  justify-content: space-between;
                  align-items: center;
                  margin-bottom: 1.5rem;
                  flex-wrap: wrap;
                  gap: 1rem;
                "
              >
                <h3
                  style="
                    font-size: 1.25rem;
                    font-weight: 600;
                    color: var(--text-primary);
                    margin: 0;
                  "
                >
                  <i class="fas fa-calendar-alt" aria-hidden="true"></i>
                  Get Month's Prayer Times
                </h3>
                <span class="method-badge method-get">GET</span>
              </div>
              <div class="code-block" style="margin-bottom: 1rem">
                <div style="color: #3b82f6">GET</div>
                <div
                  style="
                    color: var(--text-primary);
                    font-size: 1.125rem;
                    margin-top: 0.25rem;
                  "
                >
                  /v1/timesheets/<span
                    style="color: var(--gold); font-weight: 600"
                    >{location}</span
                  >/month.json
                </div>
              </div>
              <p style="color: var(--text-secondary); margin-bottom: 1.5rem">
                Returns prayer times for the current month as an array of
                objects.
              </p>
              <details
                style="
                  background: var(--bg-secondary);
                  border-radius: 0.75rem;
                  padding: 1rem;
                  border: 1px solid var(--border-color);
                "
              >
                <summary
                  style="
                    cursor: pointer;
                    font-weight: 600;
                    color: var(--primary-green);
                  "
                >
                  <i class="fas fa-eye" aria-hidden="true"></i>
                  Response Example
                </summary>
                <div class="code-block" style="margin-top: 1rem">
                  [ { "date": "01-08-2025", "subh": "4:52 AM", "duhr": "12:37
                  PM", "asar": "3:53 PM", "maghrib": "6:56 PM", "isha": "8:09
                  PM", "sunrise": "6:15 AM" }, { "date": "02-08-2025", "subh":
                  "4:52 AM", "duhr": "12:37 PM", "asar": "3:53 PM", "maghrib":
                  "6:55 PM", "isha": "8:09 PM", "sunrise": "6:15 AM" } ]
                </div>
              </details>
            </div>

            <!-- Year's Prayer Times -->
            <div class="card">
              <div
                style="
                  display: flex;
                  justify-content: space-between;
                  align-items: center;
                  margin-bottom: 1.5rem;
                  flex-wrap: wrap;
                  gap: 1rem;
                "
              >
                <h3
                  style="
                    font-size: 1.25rem;
                    font-weight: 600;
                    color: var(--text-primary);
                    margin: 0;
                  "
                >
                  <i class="fas fa-calendar" aria-hidden="true"></i>
                  Get Year's Prayer Times
                </h3>
                <span class="method-badge method-get">GET</span>
              </div>
              <div class="code-block" style="margin-bottom: 1rem">
                <div style="color: #3b82f6">GET</div>
                <div
                  style="
                    color: var(--text-primary);
                    font-size: 1.125rem;
                    margin-top: 0.25rem;
                  "
                >
                  /v1/timesheets/<span
                    style="color: var(--gold); font-weight: 600"
                    >{location}</span
                  >/year.json
                </div>
              </div>
              <p style="color: var(--text-secondary)">
                Returns prayer times for the entire current year as an array of
                objects.
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- Response Format Section -->
      <section class="section" style="padding: 2rem 0">
        <div class="container">
          <div class="card">
            <div class="section-header">
              <h2 class="section-title">
                <i class="fas fa-clipboard-list" aria-hidden="true"></i>
                Response Format
              </h2>
            </div>
            <div class="grid grid-2">
              <div>
                <h3
                  style="
                    font-size: 1.25rem;
                    font-weight: 600;
                    color: var(--primary-green);
                    margin-bottom: 1rem;
                  "
                >
                  <i class="fas fa-database" aria-hidden="true"></i>
                  Data Formats
                </h3>
                <ul class="feature-list">
                  <li class="feature-item">
                    <code
                      style="
                        background: var(--bg-tertiary);
                        padding: 0.25rem 0.5rem;
                        border-radius: 0.25rem;
                        border: 1px solid var(--border-color);
                        font-size: 0.875rem;
                      "
                      >Time:</code
                    >
                    <span>12-hour format (hh:mm AM/PM)</span>
                  </li>
                  <li class="feature-item">
                    <code
                      style="
                        background: var(--bg-tertiary);
                        padding: 0.25rem 0.5rem;
                        border-radius: 0.25rem;
                        border: 1px solid var(--border-color);
                        font-size: 0.875rem;
                      "
                      >Date:</code
                    >
                    <span>DD-MM-YYYY format</span>
                  </li>
                  <li class="feature-item">
                    <code
                      style="
                        background: var(--bg-tertiary);
                        padding: 0.25rem 0.5rem;
                        border-radius: 0.25rem;
                        border: 1px solid var(--border-color);
                        font-size: 0.875rem;
                      "
                      >Location:</code
                    >
                    <span>Underscore separated identifiers</span>
                  </li>
                </ul>
              </div>
              <div>
                <h3
                  style="
                    font-size: 1.25rem;
                    font-weight: 600;
                    color: #dc2626;
                    margin-bottom: 1rem;
                  "
                >
                  <i class="fas fa-exclamation-triangle" aria-hidden="true"></i>
                  Error Responses
                </h3>
                <div class="code-block">
                  <div style="color: #dc2626">404 Not Found</div>
                  <div style="color: var(--text-muted); margin-top: 0.25rem">
                    When location or file doesn't exist
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Code Examples Section -->
      <section id="examples" class="section">
        <div class="container">
          <div class="section-header">
            <h2 class="section-title">
              <i class="fas fa-code" aria-hidden="true"></i>
              Code Examples
            </h2>
            <p class="section-description">
              Integration examples in different programming languages
            </p>
          </div>

          <div class="grid grid-2">
            <!-- JavaScript -->
            <div class="card">
              <h3
                style="
                  font-size: 1.25rem;
                  font-weight: 600;
                  color: #f7df1e;
                  margin-bottom: 1rem;
                "
              >
                <i class="fab fa-js-square" aria-hidden="true"></i>
                JavaScript (Fetch)
              </h3>
              <div class="code-block">
                // Fetch today's prayer times async function
                getPrayerTimes(location) { try { const response = await fetch(
                `/v1/timesheets/${location}/today.json` ); const data = await
                response.json(); console.log(data); } catch (error) {
                console.error('Error:', error); } }
                getPrayerTimes('Kuttiady_Assembly_Constituency');
              </div>
            </div>

            <!-- cURL -->
            <div class="card">
              <h3
                style="
                  font-size: 1.25rem;
                  font-weight: 600;
                  color: var(--primary-green);
                  margin-bottom: 1rem;
                "
              >
                <i class="fas fa-terminal" aria-hidden="true"></i>
                cURL
              </h3>
              <div class="code-block">
                # Get locations curl -X GET /v1/timesheets/index.json # Get
                today's times curl -X GET \
                /v1/timesheets/Kuttiady_Assembly_Constituency/today.json # Get
                month's times curl -X GET \ /v1/timesheets/Mumbai/month.json
              </div>
            </div>

            <!-- Python -->
            <div class="card">
              <h3
                style="
                  font-size: 1.25rem;
                  font-weight: 600;
                  color: #3776ab;
                  margin-bottom: 1rem;
                "
              >
                <i class="fab fa-python" aria-hidden="true"></i>
                Python (Requests)
              </h3>
              <div class="code-block">
                import requests def get_prayer_times(location, period='today'):
                url = f"/v1/timesheets/{location}/{period}.json" try: response =
                requests.get(url) response.raise_for_status() return
                response.json() except requests.exceptions.RequestException as
                e: print(f"Error: {e}") return None # Usage data =
                get_prayer_times('Istanbul', 'today') print(data)
              </div>
            </div>

            <!-- Node.js -->
            <div class="card">
              <h3
                style="
                  font-size: 1.25rem;
                  font-weight: 600;
                  color: #68a063;
                  margin-bottom: 1rem;
                "
              >
                <i class="fab fa-node-js" aria-hidden="true"></i>
                Node.js (Axios)
              </h3>
              <div class="code-block">
                const axios = require('axios'); async function
                fetchPrayerTimes(location) { try { const response = await
                axios.get( `/v1/timesheets/${location}/today.json` ); return
                response.data; } catch (error) { console.error('Request
                failed:', error); } } // Usage
                fetchPrayerTimes('London').then(data => { console.log(data); });
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Interactive Playground Section -->
      <section id="playground" class="section">
        <div class="container">
          <div class="section-header">
            <h2 class="section-title">
              <i class="fas fa-flask" aria-hidden="true"></i>
              Interactive API Playground
            </h2>
            <p class="section-description">
              Test the API endpoints directly from your browser
            </p>
          </div>

          <div class="playground">
            <div class="playground-inner">
              <div class="grid grid-2">
                <!-- Controls -->
                <div>
                  <div class="form-group">
                    <label for="location" class="form-label">
                      <i class="fas fa-map-marker-alt" aria-hidden="true"></i>
                      Location
                    </label>
                    <select id="location" class="form-control">
                      <option value="">Select a location...</option>
                    </select>
                  </div>

                  <div class="form-group">
                    <label for="period" class="form-label">
                      <i class="fas fa-clock" aria-hidden="true"></i>
                      Time Period
                    </label>
                    <select id="period" class="form-control">
                      <option value="today">Today</option>
                      <option value="month">This Month</option>
                      <option value="year">This Year</option>
                    </select>
                  </div>

                  <button
                    onclick="testAPI()"
                    class="btn btn-primary"
                    style="width: 100%"
                  >
                    <i class="fas fa-rocket" aria-hidden="true"></i>
                    Fetch Prayer Times
                  </button>

                  <!-- Request Info -->
                  <div
                    style="
                      background: linear-gradient(
                        135deg,
                        rgba(15, 76, 58, 0.05),
                        rgba(212, 175, 55, 0.05)
                      );
                      padding: 1rem;
                      border-radius: 0.75rem;
                      border: 1px solid var(--primary-green);
                      margin-top: 1.5rem;
                    "
                  >
                    <h4
                      style="
                        font-weight: 600;
                        color: var(--primary-green);
                        margin: 0 0 0.75rem 0;
                      "
                    >
                      <i class="fas fa-satellite-dish" aria-hidden="true"></i>
                      Request Details
                    </h4>
                    <div id="request-info" class="code-block">
                      <div style="color: var(--text-muted); text-align: center">
                        Select location and period, then click fetch to see
                        request details
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Response -->
                <div>
                  <h4
                    style="
                      font-weight: 600;
                      color: var(--primary-green);
                      margin-bottom: 1rem;
                    "
                  >
                    <i class="fas fa-file-code" aria-hidden="true"></i>
                    API Response
                  </h4>
                  <div id="result" class="response-display">
                    <div
                      style="
                        color: var(--text-muted);
                        text-align: center;
                        margin-top: 5rem;
                      "
                    >
                      <i
                        class="fas fa-hand-pointer"
                        style="
                          font-size: 2rem;
                          display: block;
                          margin-bottom: 1rem;
                        "
                      ></i>
                      Select options and click "Fetch Prayer Times" to see the
                      API response
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Best Practices Section -->
      <section class="section" style="padding: 2rem 0">
        <div class="container">
          <div class="card">
            <div class="section-header">
              <h2 class="section-title">
                <i class="fas fa-lightbulb" aria-hidden="true"></i>
                Best Practices
              </h2>
            </div>
            <div class="grid grid-2">
              <div>
                <h3
                  style="
                    font-size: 1.25rem;
                    font-weight: 600;
                    color: var(--primary-green);
                    margin-bottom: 1rem;
                  "
                >
                  <i class="fas fa-chart-line" aria-hidden="true"></i>
                  Usage Guidelines
                </h3>
                <ul class="feature-list">
                  <li class="feature-item">
                    <i
                      class="fas fa-check-circle feature-icon"
                      aria-hidden="true"
                    ></i>
                    <span>Cache responses to reduce API calls</span>
                  </li>
                  <li class="feature-item">
                    <i
                      class="fas fa-check-circle feature-icon"
                      aria-hidden="true"
                    ></i>
                    <span>Use appropriate time period endpoints</span>
                  </li>
                  <li class="feature-item">
                    <i
                      class="fas fa-check-circle feature-icon"
                      aria-hidden="true"
                    ></i>
                    <span>Handle 404 errors gracefully</span>
                  </li>
                  <li class="feature-item">
                    <i
                      class="fas fa-check-circle feature-icon"
                      aria-hidden="true"
                    ></i>
                    <span>Validate location names before requests</span>
                  </li>
                </ul>
              </div>
              <div>
                <h3
                  style="
                    font-size: 1.25rem;
                    font-weight: 600;
                    color: #dc2626;
                    margin-bottom: 1rem;
                  "
                >
                  <i class="fas fa-bug" aria-hidden="true"></i>
                  Error Handling
                </h3>
                <div class="code-block">
                  if (response.status === 404) { console.log('Location not
                  found'); } else if (!response.ok) { console.log('API error:',
                  response.status); }
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
      <div class="container">
        <div
          class="card"
          style="max-width: 48rem; margin: 0 auto; text-align: center"
        >
          <div class="section-header">
            <h3 class="section-title" style="font-size: 1.5rem">
              <i class="fas fa-question-circle" aria-hidden="true"></i>
              Need Help?
            </h3>
          </div>
          <p
            style="
              color: var(--text-secondary);
              margin-bottom: 2rem;
              font-size: 1.125rem;
            "
          >
            This API provides accurate Islamic prayer times for locations in
            Kerala. For support, questions, or feedback, please contact us at
            <a
              href="mailto:support@azantimes.in"
              style="
                color: var(--primary-green);
                text-decoration: none;
                font-weight: 600;
              "
              >support@azantimes.in</a
            >
          </p>

          <!-- Footer Navigation -->
          <nav style="margin-bottom: 2rem">
            <div
              style="
                display: flex;
                flex-wrap: wrap;
                justify-content: center;
                gap: 1.5rem;
                font-size: 0.875rem;
              "
            >
              <a
                href="#overview"
                style="
                  color: var(--text-secondary);
                  text-decoration: none;
                  transition: color 0.3s ease;
                "
                >API Overview</a
              >
              <a
                href="#endpoints"
                style="
                  color: var(--text-secondary);
                  text-decoration: none;
                  transition: color 0.3s ease;
                "
                >Endpoints</a
              >
              <a
                href="#examples"
                style="
                  color: var(--text-secondary);
                  text-decoration: none;
                  transition: color 0.3s ease;
                "
                >Code Examples</a
              >
              <a
                href="#playground"
                style="
                  color: var(--text-secondary);
                  text-decoration: none;
                  transition: color 0.3s ease;
                "
                >API Playground</a
              >
              <a
                href="https://azantimes.in/"
                style="
                  color: var(--primary-green);
                  text-decoration: none;
                  font-weight: 600;
                  transition: color 0.3s ease;
                "
                >Prayer Dashboard</a
              >
            </div>
          </nav>

          <div
            style="
              display: flex;
              flex-direction: column;
              gap: 1rem;
              align-items: center;
            "
          >
            <div
              style="
                display: flex;
                gap: 1rem;
                flex-wrap: wrap;
                justify-content: center;
              "
            >
              <a href="#playground" class="btn btn-primary">
                <i class="fas fa-play" aria-hidden="true"></i>
                Try API
              </a>
              <a
                href="#examples"
                class="btn btn-secondary"
                style="
                  background: transparent;
                  color: var(--primary-green);
                  border: 2px solid var(--primary-green);
                "
              >
                <i class="fas fa-code" aria-hidden="true"></i>
                View Examples
              </a>
            </div>

            <div
              style="
                border-top: 1px solid var(--border-color);
                padding-top: 1.5rem;
                margin-top: 1.5rem;
                width: 100%;
              "
            >
              <p
                style="color: var(--text-muted); font-size: 0.875rem; margin: 0"
              >
                © 2025 api.azantimes.in. Built with ❤️ for the Islamic
                community.
              </p>
            </div>
          </div>
        </div>
      </div>
    </footer>

    <script>
      // Theme Management
      class ThemeManager {
        constructor() {
          this.init();
        }

        init() {
          this.applyTheme();
          this.setupEventListeners();
          this.updateThemeIcon();
        }

        applyTheme() {
          const savedTheme = localStorage.getItem("theme");
          const systemPrefersDark = window.matchMedia(
            "(prefers-color-scheme: dark)"
          ).matches;

          let theme;
          if (savedTheme) {
            theme = savedTheme;
          } else if (systemPrefersDark) {
            theme = "dark";
          } else {
            theme = "light";
          }

          document.documentElement.setAttribute("data-theme", theme);
          this.currentTheme = theme;
        }

        toggleTheme() {
          const newTheme = this.currentTheme === "light" ? "dark" : "light";
          document.documentElement.setAttribute("data-theme", newTheme);
          localStorage.setItem("theme", newTheme);
          this.currentTheme = newTheme;
          this.updateThemeIcon();

          // Track theme toggle event
          trackEvent(
            "theme_toggle",
            "User Interface",
            `Switch to ${newTheme}`,
            1,
            {
              previous_theme: this.currentTheme === "light" ? "dark" : "light",
              new_theme: newTheme,
              user_preference: localStorage.getItem("theme")
                ? "manual"
                : "system",
            }
          );
        }

        updateThemeIcon() {
          const icon = document.getElementById("theme-icon");
          const mobileIcon = document.getElementById("mobile-theme-icon");
          const newClass =
            this.currentTheme === "light" ? "fas fa-moon" : "fas fa-sun";

          if (icon) {
            icon.className = newClass;
          }
          if (mobileIcon) {
            mobileIcon.className = newClass;
          }
        }

        setupEventListeners() {
          const themeToggle = document.getElementById("theme-toggle");
          if (themeToggle) {
            themeToggle.addEventListener("click", () => this.toggleTheme());
          }

          // Listen for system theme changes
          window
            .matchMedia("(prefers-color-scheme: dark)")
            .addEventListener("change", (e) => {
              if (!localStorage.getItem("theme")) {
                this.applyTheme();
                this.updateThemeIcon();
              }
            });
        }
      }

      // Mobile Menu Management
      class MobileMenuManager {
        constructor() {
          this.mobileMenu = document.getElementById("mobile-menu");
          this.mobileMenuBtn = document.getElementById("mobile-menu-btn");
          this.closeMenuBtn = document.getElementById("close-menu");
          this.init();
        }

        init() {
          this.setupEventListeners();
        }

        setupEventListeners() {
          // Open mobile menu
          if (this.mobileMenuBtn) {
            this.mobileMenuBtn.addEventListener("click", () => this.openMenu());
          }

          // Close mobile menu
          if (this.closeMenuBtn) {
            this.closeMenuBtn.addEventListener("click", () => this.closeMenu());
          }

          // Close menu when clicking on links
          const mobileNavLinks = document.querySelectorAll(".mobile-nav-link");
          mobileNavLinks.forEach((link) => {
            link.addEventListener("click", () => this.closeMenu());
          });

          // Close menu on escape key
          document.addEventListener("keydown", (e) => {
            if (e.key === "Escape" && this.isMenuOpen()) {
              this.closeMenu();
            }
          });

          // Close menu when clicking outside
          if (this.mobileMenu) {
            this.mobileMenu.addEventListener("click", (e) => {
              if (e.target === this.mobileMenu) {
                this.closeMenu();
              }
            });
          }
        }

        openMenu() {
          if (this.mobileMenu) {
            this.mobileMenu.classList.add("active");
            document.body.style.overflow = "hidden";
          }
        }

        closeMenu() {
          if (this.mobileMenu) {
            this.mobileMenu.classList.remove("active");
            document.body.style.overflow = "";
          }
        }

        isMenuOpen() {
          return (
            this.mobileMenu && this.mobileMenu.classList.contains("active")
          );
        }
      }

      // API Playground
      class APIPlayground {
        constructor() {
          this.locationSelect = document.getElementById("location");
          this.periodSelect = document.getElementById("period");
          this.resultDiv = document.getElementById("result");
          this.requestInfoDiv = document.getElementById("request-info");
          this.init();
        }

        async init() {
          await this.loadLocations();
          this.setupEventListeners();
        }

        setupEventListeners() {
          // Update request info when selections change
          [this.locationSelect, this.periodSelect].forEach((select) => {
            if (select) {
              select.addEventListener("change", () => {
                this.updateRequestInfo();

                // Track form interactions
                if (select === this.locationSelect) {
                  trackEvent(
                    "location_selected",
                    "Form Interaction",
                    select.value,
                    1,
                    {
                      location: select.value,
                      form_type: "api_playground",
                    }
                  );
                } else if (select === this.periodSelect) {
                  trackEvent(
                    "period_selected",
                    "Form Interaction",
                    select.value,
                    1,
                    {
                      period: select.value,
                      form_type: "api_playground",
                    }
                  );
                }
              });
            }
          });
        }

        async loadLocations() {
          if (!this.locationSelect) return;

          try {
            this.locationSelect.innerHTML =
              '<option value="">Loading locations...</option>';
            const response = await fetch("/v1/timesheets/index.json");

            if (!response.ok) {
              throw new Error(
                `HTTP ${response.status}: ${response.statusText}`
              );
            }

            const locations = await response.json();
            locations.sort();

            this.locationSelect.innerHTML =
              '<option value="">Select a location...</option>';
            locations.forEach((location) => {
              const option = document.createElement("option");
              option.value = location;
              option.textContent = location.replace(/_/g, " ");
              this.locationSelect.appendChild(option);
            });
          } catch (error) {
            console.error("Failed to load locations:", error);
            this.locationSelect.innerHTML =
              '<option value="">Error loading locations</option>';
          }
        }

        updateRequestInfo() {
          if (!this.requestInfoDiv) return;

          const location = this.locationSelect?.value;
          const period = this.periodSelect?.value;

          if (!location || !period) {
            this.requestInfoDiv.innerHTML = `
              <div style="color: var(--text-muted); text-align: center;">
                Select location and period to see request details
              </div>
            `;
            return;
          }

          const url = `/v1/timesheets/${location}/${period}.json`;
          const fullUrl = baseCurrentLocation.replace(/\/+$/, "") + url;

          this.requestInfoDiv.innerHTML = `
            <div style="color: var(--primary-green);">Method:</div>
            <div style="margin-left: 1rem; color: var(--text-primary);">GET</div>
            <div style="color: var(--primary-green); margin-top: 0.5rem;">URL:</div>
            <div style="margin-left: 1rem; color: #3b82f6; word-break: break-all;">${fullUrl}</div>
            <div style="color: var(--primary-green); margin-top: 0.5rem;">Headers:</div>
            <div style="margin-left: 1rem; color: var(--text-primary);">Accept: application/json</div>
          `;
        }

        async testAPI() {
          if (!this.locationSelect || !this.periodSelect || !this.resultDiv) {
            console.error("Required elements not found");
            return;
          }

          const location = this.locationSelect.value;
          const period = this.periodSelect.value;

          if (!location) {
            this.showResult("error", "⚠️ Please select a location first");
            // Track failed API test attempt
            trackEvent(
              "api_test_attempt",
              "API Interaction",
              "Missing Location",
              0,
              {
                error_type: "missing_location",
                has_location: false,
                has_period: !!period,
              }
            );
            return;
          }

          const url = `/v1/timesheets/${location}/${period}.json`;

          // Track API test start
          trackEvent(
            "api_test_start",
            "API Interaction",
            `${location}/${period}`,
            1,
            {
              location: location,
              period: period,
              endpoint: url,
            }
          );

          // Show loading state
          this.showResult("loading", `Fetching ${url}...`);

          const startTime = performance.now();

          try {
            const response = await fetch(url);

            const endTime = performance.now();
            const responseTime = Math.round(endTime - startTime);

            if (!response.ok) {
              throw new Error(
                `HTTP ${response.status}: ${response.statusText}`
              );
            }

            const data = await response.json();
            this.showResult("success", data, response.status);

            // Track successful API test
            trackEvent(
              "api_test_success",
              "API Interaction",
              `${location}/${period}`,
              1,
              {
                location: location,
                period: period,
                response_time_ms: responseTime,
                status_code: response.status,
                data_size: JSON.stringify(data).length,
              }
            );
          } catch (error) {
            const endTime = performance.now();
            const responseTime = Math.round(endTime - startTime);

            console.error("API request failed:", error);
            this.showResult("error", `❌ Request Failed: ${error.message}`);

            // Track failed API test
            trackEvent(
              "api_test_error",
              "API Interaction",
              `${location}/${period}`,
              0,
              {
                location: location,
                period: period,
                error_message: error.message,
                response_time_ms: responseTime,
              }
            );
          }
        }

        showResult(type, content, status = null) {
          if (!this.resultDiv) return;

          let html = "";

          switch (type) {
            case "loading":
              html = `
                <div style="color: #3b82f6; text-align: center; margin-top: 5rem;">
                  <div class="spinner" style="margin: 0 auto 1rem;"></div>
                  ${content}
                </div>
              `;
              break;

            case "success":
              const jsonString = JSON.stringify(content, null, 2);
              const highlighted = this.highlightJSON(jsonString);
              html = `
                <div style="color: var(--primary-green); margin-bottom: 0.5rem;">✅ Success (${status})</div>
                <div style="border-top: 1px solid var(--border-color); padding-top: 1rem;">
                  <pre style="white-space: pre-wrap; margin: 0; font-family: inherit;">${highlighted}</pre>
                </div>
              `;
              break;

            case "error":
              html = `
                <div style="color: #dc2626; text-align: center; margin-top: 2rem;">
                  <div style="font-weight: 600; margin-bottom: 1rem;">${content}</div>
                  <div style="color: var(--text-muted); font-size: 0.875rem;">
                    Please check:
                    <ul style="list-style: disc; margin-left: 1.5rem; margin-top: 0.5rem; text-align: left;">
                      <li>Location name is correct</li>
                      <li>Data file exists for this location</li>
                      <li>Network connectivity</li>
                    </ul>
                  </div>
                </div>
              `;
              break;
          }

          this.resultDiv.innerHTML = html;
        }

        highlightJSON(jsonString) {
          return jsonString
            .replace(
              /(".*?")/g,
              '<span style="color: var(--primary-green);">$1</span>'
            )
            .replace(
              /: (".*?")/g,
              ': <span style="color: var(--gold);">$1</span>'
            )
            .replace(/: (\d+)/g, ': <span style="color: #3b82f6;">$1</span>')
            .replace(
              /: (true|false)/g,
              ': <span style="color: #8b5cf6;">$1</span>'
            );
        }
      }

      // Scroll Animation Manager
      class ScrollAnimationManager {
        constructor() {
          this.init();
        }

        init() {
          const observerOptions = {
            threshold: 0.1,
            rootMargin: "0px 0px -50px 0px",
          };

          this.observer = new IntersectionObserver((entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                entry.target.classList.add("visible");
              }
            });
          }, observerOptions);

          // Observe all sections
          document.querySelectorAll(".section").forEach((section) => {
            section.classList.add("fade-in");
            this.observer.observe(section);
          });
        }
      }

      // Smooth Scroll Manager
      class SmoothScrollManager {
        constructor() {
          this.init();
        }

        init() {
          document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
            anchor.addEventListener("click", (e) => {
              e.preventDefault();
              const targetId = anchor.getAttribute("href").substring(1);
              const targetElement = document.getElementById(targetId);

              if (targetElement) {
                targetElement.scrollIntoView({
                  behavior: "smooth",
                  block: "start",
                });
              }
            });
          });
        }
      }

      // Global API instance
      let apiPlayground;

      // Global function for the playground button
      function testAPI() {
        if (apiPlayground) {
          apiPlayground.testAPI();
        }
      }

      // Initialize everything when DOM is loaded
      document.addEventListener("DOMContentLoaded", () => {
        // Initialize all managers
        new ThemeManager();
        new MobileMenuManager();
        apiPlayground = new APIPlayground();
        new ScrollAnimationManager();
        new SmoothScrollManager();

        // Track page initialization
        trackEvent(
          "page_initialized",
          "User Engagement",
          "Documentation Page",
          1,
          {
            page_type: "api_documentation",
            user_agent: navigator.userAgent,
            screen_resolution: `${screen.width}x${screen.height}`,
            viewport_size: `${window.innerWidth}x${window.innerHeight}`,
          }
        );

        // Add navigation tracking
        document
          .querySelectorAll(".nav-link, .mobile-nav-link")
          .forEach((link) => {
            link.addEventListener("click", (e) => {
              const href = link.getAttribute("href");
              const linkText = link.textContent.trim();
              const isMobile = link.classList.contains("mobile-nav-link");

              trackEvent("navigation_click", "Navigation", linkText, 1, {
                destination: href,
                navigation_type: isMobile ? "mobile_menu" : "desktop_nav",
                link_text: linkText,
              });
            });
          });

        // Add CTA button tracking
        document.querySelectorAll(".btn, .nav-cta").forEach((button) => {
          button.addEventListener("click", (e) => {
            const buttonText = button.textContent.trim();
            const buttonClass = button.className;
            const href = button.getAttribute("href");

            // Special tracking for dashboard navigation
            if (href && href.includes("https://azantimes.in/")) {
              trackEvent(
                "dashboard_navigation",
                "User Journey",
                "Dashboard Access",
                1,
                {
                  source_page: "api_documentation",
                  navigation_method: buttonClass.includes("nav-cta")
                    ? "header_cta"
                    : "inline_button",
                }
              );
            }

            trackEvent("cta_click", "User Engagement", buttonText, 1, {
              button_text: buttonText,
              button_type: buttonClass.includes("btn-primary")
                ? "primary"
                : buttonClass.includes("nav-cta")
                ? "navigation_cta"
                : "secondary",
              button_location: button.closest("section")?.id || "unknown",
              destination: href || "none",
            });
          });
        });

        // Track mobile menu usage
        const mobileMenuBtn = document.getElementById("mobile-menu-btn");
        const closeMenuBtn = document.getElementById("close-menu");

        if (mobileMenuBtn) {
          mobileMenuBtn.addEventListener("click", () => {
            trackEvent("mobile_menu_open", "User Interface", "Mobile Menu", 1);
          });
        }

        if (closeMenuBtn) {
          closeMenuBtn.addEventListener("click", () => {
            trackEvent("mobile_menu_close", "User Interface", "Mobile Menu", 1);
          });
        }

        // Add keyboard shortcuts
        document.addEventListener("keydown", (e) => {
          // Ctrl/Cmd + Enter to test API
          if ((e.ctrlKey || e.metaKey) && e.key === "Enter") {
            testAPI();
            trackEvent(
              "keyboard_shortcut",
              "User Interface",
              "Ctrl+Enter API Test",
              1
            );
          }
        });

        // Add hover effects to cards
        document.querySelectorAll(".card").forEach((card) => {
          card.addEventListener("mouseenter", () => {
            if (
              !window.matchMedia("(prefers-reduced-motion: reduce)").matches
            ) {
              card.style.transform = "translateY(-2px)";
            }
          });

          card.addEventListener("mouseleave", () => {
            card.style.transform = "";
          });
        });

        // Update footer nav links hover effects
        document.querySelectorAll("footer a").forEach((link) => {
          link.addEventListener("mouseenter", () => {
            link.style.color = "var(--primary-green)";
          });

          link.addEventListener("mouseleave", () => {
            if (!link.style.fontWeight || link.style.fontWeight !== "600") {
              link.style.color = "var(--text-secondary)";
            }
          });
        });

        // Add scroll tracking and engagement metrics
        let scrollMilestones = {
          25: false,
          50: false,
          75: false,
          100: false,
        };

        let maxScroll = 0;
        let startTime = Date.now();
        let lastActiveTime = Date.now();

        function trackScrollDepth() {
          const scrollTop =
            window.pageYOffset || document.documentElement.scrollTop;
          const docHeight =
            document.documentElement.scrollHeight - window.innerHeight;
          const scrollPercent = Math.min(
            100,
            Math.round((scrollTop / docHeight) * 100)
          );

          maxScroll = Math.max(maxScroll, scrollPercent);

          // Track milestone achievements
          Object.keys(scrollMilestones).forEach((milestone) => {
            if (scrollPercent >= milestone && !scrollMilestones[milestone]) {
              scrollMilestones[milestone] = true;
              trackEvent(
                "scroll_depth",
                "User Engagement",
                `${milestone}% Scrolled`,
                parseInt(milestone),
                {
                  scroll_percentage: scrollPercent,
                  time_to_milestone: Date.now() - startTime,
                }
              );
            }
          });
        }

        // Throttled scroll tracking
        let scrollTimeout;
        window.addEventListener("scroll", () => {
          clearTimeout(scrollTimeout);
          scrollTimeout = setTimeout(trackScrollDepth, 100);
          lastActiveTime = Date.now();
        });

        // Track time on page and engagement
        window.addEventListener("beforeunload", () => {
          const timeOnPage = Date.now() - startTime;
          trackEvent("page_exit", "User Engagement", "Page Unload", 1, {
            time_on_page_ms: timeOnPage,
            max_scroll_percentage: maxScroll,
            engagement_score: Math.min(
              10,
              Math.round(timeOnPage / 1000 + maxScroll / 10)
            ),
          });
        });

        // Track user activity and idle time
        let idleTimer;
        function resetIdleTimer() {
          clearTimeout(idleTimer);
          idleTimer = setTimeout(() => {
            const idleTime = Date.now() - lastActiveTime;
            if (idleTime > 30000) {
              // 30 seconds idle
              trackEvent("user_idle", "User Engagement", "Idle State", 1, {
                idle_duration_ms: idleTime,
                current_scroll_percentage: Math.round(
                  (window.pageYOffset /
                    (document.documentElement.scrollHeight -
                      window.innerHeight)) *
                    100
                ),
              });
            }
          }, 30000);
        }

        // Reset idle timer on user activity
        [
          "mousedown",
          "mousemove",
          "keypress",
          "scroll",
          "touchstart",
          "click",
        ].forEach((event) => {
          document.addEventListener(
            event,
            () => {
              lastActiveTime = Date.now();
              resetIdleTimer();
            },
            { passive: true }
          );
        });

        resetIdleTimer();

        // Add copy-to-clipboard functionality for code blocks
        document.querySelectorAll(".code-block").forEach((codeBlock, index) => {
          // Create copy button
          const copyButton = document.createElement("button");
          copyButton.innerHTML = '<i class="fas fa-copy"></i>';
          copyButton.className = "copy-btn";
          copyButton.style.cssText = `
            position: absolute;
            top: 0.75rem;
            right: 0.75rem;
            background: var(--primary-green);
            color: white;
            border: none;
            padding: 0.5rem;
            border-radius: 0.375rem;
            cursor: pointer;
            font-size: 0.875rem;
            transition: all 0.3s ease;
            z-index: 10;
          `;

          // Make code block relative for absolute positioning
          codeBlock.style.position = "relative";
          codeBlock.appendChild(copyButton);

          copyButton.addEventListener("click", async () => {
            const code = codeBlock.textContent.replace("", "").trim();

            try {
              await navigator.clipboard.writeText(code);

              // Visual feedback
              const originalContent = copyButton.innerHTML;
              copyButton.innerHTML = '<i class="fas fa-check"></i>';
              copyButton.style.background = "var(--success-color)";

              setTimeout(() => {
                copyButton.innerHTML = originalContent;
                copyButton.style.background = "var(--primary-green)";
              }, 2000);

              // Track code copy
              trackEvent(
                "code_copied",
                "Content Interaction",
                `Code Block ${index + 1}`,
                1,
                {
                  code_type: codeBlock.closest("section")?.id || "unknown",
                  code_length: code.length,
                  code_snippet:
                    code.substring(0, 50) + (code.length > 50 ? "..." : ""),
                }
              );
            } catch (err) {
              console.error("Failed to copy code:", err);

              // Fallback for older browsers
              const textArea = document.createElement("textarea");
              textArea.value = code;
              document.body.appendChild(textArea);
              textArea.select();
              document.execCommand("copy");
              document.body.removeChild(textArea);

              trackEvent(
                "code_copied_fallback",
                "Content Interaction",
                `Code Block ${index + 1}`,
                1
              );
            }
          });

          // Hover effects
          copyButton.addEventListener("mouseenter", () => {
            copyButton.style.transform = "scale(1.1)";
          });

          copyButton.addEventListener("mouseleave", () => {
            copyButton.style.transform = "scale(1)";
          });
        });

        // Track section visibility using Intersection Observer
        const sectionObserver = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                const sectionId = entry.target.id || "unnamed-section";
                const sectionTitle =
                  entry.target.querySelector("h2, h3")?.textContent ||
                  sectionId;

                trackEvent(
                  "section_viewed",
                  "Content Engagement",
                  sectionTitle,
                  1,
                  {
                    section_id: sectionId,
                    section_title: sectionTitle,
                    viewport_percentage: Math.round(
                      entry.intersectionRatio * 100
                    ),
                  }
                );
              }
            });
          },
          {
            threshold: 0.5, // Trigger when 50% of section is visible
            rootMargin: "0px 0px -10% 0px", // Account for header
          }
        );

        // Observe all sections
        document.querySelectorAll("section[id]").forEach((section) => {
          sectionObserver.observe(section);
        });

        // Track outbound links
        document.querySelectorAll('a[href^="http"]').forEach((link) => {
          link.addEventListener("click", (e) => {
            const url = link.href;
            const linkText = link.textContent.trim();

            trackEvent("outbound_link_click", "External Navigation", url, 1, {
              destination_url: url,
              link_text: linkText,
              link_context: link.closest("section")?.id || "unknown",
            });
          });
        });

        // Track error states
        window.addEventListener("error", (e) => {
          trackEvent("javascript_error", "Error Tracking", e.message, 0, {
            error_message: e.message,
            error_filename: e.filename,
            error_line: e.lineno,
            error_column: e.colno,
          });
        });

        // Track API documentation specific events
        const playgroundSection = document.getElementById("playground");
        if (playgroundSection) {
          // Track when user interacts with playground
          playgroundSection.addEventListener("click", (e) => {
            if (e.target.tagName === "BUTTON" || e.target.closest("button")) {
              const buttonText = (
                e.target.textContent ||
                e.target.closest("button")?.textContent ||
                ""
              ).trim();

              if (buttonText.toLowerCase().includes("test")) {
                trackEvent(
                  "playground_interaction",
                  "API Testing",
                  "Test Button Click",
                  1
                );
              }
            }
          });
        }

        console.log("🕌 Prayer Times API Documentation loaded successfully!");
        console.log("📊 Enhanced Analytics tracking enabled");
      });

      // Handle page visibility changes
      document.addEventListener("visibilitychange", () => {
        if (document.visibilityState === "visible") {
          // Update theme if system preference changed while page was hidden
          if (!localStorage.getItem("theme")) {
            const themeManager = new ThemeManager();
          }
        }
      });
    </script>

    <!-- Floating Theme Toggle -->
    <button
      class="floating-theme-toggle"
      id="theme-toggle"
      aria-label="Toggle theme"
      title="Toggle light/dark theme"
    >
      <i class="fas fa-moon" id="theme-icon"></i>
    </button>
  </body>
</html>
